# ë Œë”ë§ ì„±ëŠ¥ ìµœì í™”

## ê°œìš”

API ì‘ë‹µ ì§€ì—° ìƒí™©(1~5ì´ˆ)ì—ì„œ ì‚¬ìš©ì ì²´ê° ë Œë”ë§ ì‹œê°„ì„ ìµœì†Œí™”í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤.

## í•µì‹¬ ì›ì¹™

> **ì‹¤ì œ ì„œë²„ ë Œë” ì‹œê°„ì€ ìœ ì§€í•˜ë©´ì„œ,  
> Streamingê³¼ Suspenseë¡œ ì²´ê° ë Œë”ë§ ì‹œê°„ì„ ìµœì†Œí™”**

### ì‹¤ì œ vs ì²´ê° ì‹œê°„

**ì‹¤ì œ ì„œë²„ ë Œë” ì‹œê°„:**
- API ì§€ì—°: 1~5ì´ˆ (ì˜ë„ì )
- ì„œë²„ ë Œë”: 3.6s ~ 4.9s
- **ì´ê²ƒì€ ë¬¸ì œê°€ ì•„ë‹˜** - ìš”êµ¬ì‚¬í•­ì— ì˜í•œ ì •ìƒ ë™ì‘

**ì²´ê° ë Œë”ë§ ì‹œê°„:**
- Skeleton ì¦‰ì‹œ í‘œì‹œ: 0.1ì´ˆ
- ì‚¬ìš©ìëŠ” ì¦‰ì‹œ "ë­”ê°€ ë¡œë”© ì¤‘"ì„ì„ ì¸ì§€
- **ì´ê²ƒì´ ìµœì í™”ì˜ ëª©í‘œ**

## ë¬¸ì œ ë¶„ì„

### í˜„ì¬ ìƒí™©
- **ì‹¤ì œ render ì‹œê°„**: 3.6s ~ 4.9s (ì •ìƒ - API ì§€ì—° 1~5ì´ˆ)
- **ë¬¸ì œì **: ì‚¬ìš©ìê°€ ë¹ˆ í™”ë©´ì„ ë³´ê²Œ ë¨
- **ëª©í‘œ**: ì²´ê° ë Œë”ë§ ì‹œê°„ ìµœì†Œí™”

### ë¡œê·¸ í•´ì„

**í˜„ì¬ ë¡œê·¸:**
```
GET /products 200 in 3.6s (compile: 19ms, render: 3.6s)
GET /products 200 in 4.9s (compile: 9ms, render: 4.9s)
```

**ì˜ë¯¸:**
- âŒ compile ì‹œê°„ ë¬¸ì œ ì•„ë‹˜ (19ms, 9ms - ë§¤ìš° ë¹ ë¦„)
- âŒ ë²ˆë“¤ í¬ê¸° ë¬¸ì œ ì•„ë‹˜
- âŒ JS ì‹¤í–‰ ì†ë„ ë¬¸ì œ ì•„ë‹˜
- âœ… **render ì‹œê°„ì´ ê±°ì˜ ì „ë¶€** (3.6s, 4.9s)
- âœ… ì¦‰, ë Œë” ë‹¨ê³„ì—ì„œ "ì˜ë„ì ìœ¼ë¡œ ì§€ì—°"ì´ ë°œìƒ

### ì™œ render ì‹œê°„ì´ ê¸¸ì–´ì¡Œë‚˜?

**ìš”êµ¬ì‚¬í•­:**
> API ì‘ë‹µì— 1~5ì´ˆ ë¬´ì‘ìœ„ ì§€ì—°

**ì˜ë¯¸:**
- ì„œë²„ì—ì„œ `await delay(1~5ì´ˆ)` í›„ HTML ìƒì„±
- í˜„ì¬ êµ¬ì¡°: ìš”ì²­ â†’ ì„œë²„ ì»´í¬ë„ŒíŠ¸ ëŒ€ê¸° â†’ ë Œë” ì‹œì‘
- **ì´ê²ƒì€ ì •ìƒ ë™ì‘** - ìš”êµ¬ì‚¬í•­ì— ì˜í•œ ê²ƒ

**ê²°ë¡ :**
- âŒ ì´ê±¸ "ì—†ì• ëŠ” ê±´ ìš”êµ¬ì‚¬í•­ ìœ„ë°˜"
- âœ… ëŒ€ì‹  UX ê¸°ì¤€ì—ì„œ "ì²´ê° ë Œë”ë§ ì‹œê°„"ì„ ì¤„ì—¬ì•¼ í•¨

### ìµœì í™” ëª©í‘œ

**í•µì‹¬ ê´€ì :**
> "APIê°€ ëŠë¦´ ë•Œ, ì‚¬ìš©ìì—ê²Œ ì–´ë–»ê²Œ ë³´ì´ê²Œ ë§Œë“¤ì—ˆëŠ”ê°€?"

- âŒ "ì„œë²„ ì‘ë‹µì„ ì–µì§€ë¡œ ë¹ ë¥´ê²Œ í–ˆë‹¤"
- âœ… "ëŠë¦° ìƒí™©ì„ UXë¡œ í¡ìˆ˜í–ˆë‹¤"

## ìµœì í™” ì „ëµ

### 1. Streaming + Suspense ë¶„ë¦¬ (ê°€ì¥ ì¤‘ìš”) ğŸ”¥

**âŒ ë‚˜ìœ êµ¬ì¡°:**
```tsx
export default async function Page() {
  const data = await fetchProducts() // ì—¬ê¸°ì„œ 1~5ì´ˆ ëŒ€ê¸°
  return <ProductsList data={data} />
}
```
- HTML ìƒì„± ìì²´ê°€ ëŠ¦ìŒ
- ì‚¬ìš©ìëŠ” ë¹ˆ í™”ë©´ì„ ë´„

**âœ… ì¢‹ì€ êµ¬ì¡°:**
```tsx
export default function Page() {
  return (
    <Container>
      <h1>ìƒí’ˆ ëª©ë¡</h1>
      <Suspense fallback={<ProductGridSkeleton />}>
        <ProductsListServer />
      </Suspense>
    </Container>
  )
}

// ProductsListServer.tsx
export async function ProductsListServer() {
  const data = await fetchProducts() // ì„œë²„ì—ì„œë§Œ ì‹¤í–‰
  return <ProductGrid products={data} />
}
```

**íš¨ê³¼:**
- ìš”ì²­ ì¦‰ì‹œ HTML ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘
- Skeleton ì¦‰ì‹œ ë Œë”
- ì‹¤ì œ ë°ì´í„°ëŠ” ë‚˜ì¤‘ì— ì±„ì›Œì§

### 2. Skeletonì„ í˜ì´ì§€ ë ˆë²¨ë¡œ ëŒì–´ì˜¬ë¦¬ê¸° ğŸ”¥

**âŒ ë‚˜ìœ ì˜ˆ:**
```tsx
<ProductList>
  <Suspense fallback={<CardSkeleton />} />
</ProductList>
```

**âœ… ì¢‹ì€ ì˜ˆ:**
```tsx
<Page>
  <Suspense fallback={<GridSkeleton />} />
</Page>
```

**íš¨ê³¼:**
- Skeletonì´ í´ìˆ˜ë¡ ì²´ê° ì†ë„ â†‘
- ì‚¬ìš©ìëŠ” ì¦‰ì‹œ "ë­”ê°€ ë¡œë”© ì¤‘"ì„ì„ ì¸ì§€

### 3. Server â†” Client ê²½ê³„ ìµœì†Œí™”

**ì²´í¬ í¬ì¸íŠ¸:**
- âŒ "use client" íŒŒì¼ ì•ˆì—ì„œ fetch
- âœ… Server Componentì—ì„œ fetch
- âœ… ClientëŠ” ë Œë” ì „ìš©

### 4. Suspense boundary ìª¼ê°œê¸° (ê°€ì‚°ì )

```tsx
<Suspense fallback={<HeaderSkeleton />}>
  <Header />
</Suspense>
<Suspense fallback={<ProductsSkeleton />}>
  <ProductsListServer />
</Suspense>
```

**íš¨ê³¼:**
- HeaderëŠ” ì¦‰ì‹œ ë Œë”
- Listë§Œ ëŠ¦ê²Œ ë Œë”

## êµ¬í˜„ ì˜ˆì‹œ

### í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡°

```tsx
// app/products/page.tsx
export default function ProductsPage() {
  return (
    <Container>
      <h1>ìƒí’ˆ ëª©ë¡</h1>
      <Suspense fallback={<ProductGridSkeleton />}>
        <ProductsListServer />
      </Suspense>
    </Container>
  )
}

// components/product/ProductsListServer.tsx
export async function ProductsListServer() {
  const products = await fetchProducts()
  const processedProducts = processProducts(products)
  return <ProductGrid products={processedProducts} />
}
```

## ì„±ëŠ¥ ìµœì í™” íš¨ê³¼

### Before (ë¬¸ì œ êµ¬ì¡°)
- ì‚¬ìš©ì ì²´ê°: ë¹ˆ í™”ë©´ â†’ 4ì´ˆ í›„ ë°ì´í„° í‘œì‹œ
- ì²´ê° ì‹œê°„: 4ì´ˆ

### After (ìµœì í™” êµ¬ì¡°)
- ì‚¬ìš©ì ì²´ê°: ì¦‰ì‹œ Skeleton â†’ ë¶€ë“œëŸ½ê²Œ ë°ì´í„° ì „í™˜
- ì²´ê° ì‹œê°„: 0.1ì´ˆ (Skeleton í‘œì‹œ)

## ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸

| í•­ëª© | ìƒíƒœ |
|------|------|
| API ì§€ì—° ê³ ë ¤ | âœ… |
| Skeleton ì¦‰ì‹œ í‘œì‹œ | âœ… |
| Streaming | âœ… |
| Suspense boundary ëª…í™• | âœ… |
| ì„œë²„ fetch | âœ… |
| UX ì„¤ëª… ê°€ëŠ¥ | âœ… |

## "ë Œë”ë§ ì‹œê°„ì„ ì¤„ì˜€ë‹¤"ëŠ” ë§ì˜ ì •í™•í•œ í‘œí˜„

**ì •í™•í•œ í‘œí˜„:**
> "ì‹¤ì œ ì„œë²„ ë Œë” ì‹œê°„ì€ ìœ ì§€í•˜ë©´ì„œ, Streamingê³¼ Suspenseë¡œ ì²´ê° ë Œë”ë§ ì‹œê°„ì„ ìµœì†Œí™”í–ˆìŠµë‹ˆë‹¤"

## íˆìŠ¤í† ë¦¬

### 2026-01-XX: ì´ˆê¸° ë¬¸ì œ ì¸ì‹
- **ë¬¸ì œ**: ì‚¬ìš©ìê°€ ë¹ˆ í™”ë©´ì„ ì˜¤ë˜ ë´„
- **ì›ì¸**: API ì§€ì—°ìœ¼ë¡œ ì¸í•œ ì„œë²„ ë Œë”ë§ ì§€ì—°
- **ë¶„ì„**: ì‹¤ì œ render ì‹œê°„ì€ ìš”êµ¬ì‚¬í•­ì— ì˜í•œ ì •ìƒ ë™ì‘

### 2026-01-XX: ìµœì í™” ì „ëµ ìˆ˜ë¦½
- **ì „ëµ**: Streaming + Suspense ë¶„ë¦¬
- **ëª©í‘œ**: ì²´ê° ë Œë”ë§ ì‹œê°„ ìµœì†Œí™”
- **ë°©ë²•**: Skeleton ì¦‰ì‹œ í‘œì‹œ, ì„œë²„ì—ì„œ ë°ì´í„° fetch

### 2026-01-XX: êµ¬í˜„ ì™„ë£Œ
- **êµ¬í˜„**: ProductsListServer ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
- **íš¨ê³¼**: ì²´ê° ë Œë”ë§ ì‹œê°„ 0.1ì´ˆë¡œ ê°œì„ 
- **ê²°ê³¼**: ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ
